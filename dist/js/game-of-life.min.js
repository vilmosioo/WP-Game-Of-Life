!function(e,n){"use strict";var t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,l=function(){for(var e,t,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,O=l.length,o={};O>r;r++)if(e=l[r],e&&e[1]in n){for(r=0,t=e.length;t>r;r++)o[l[0][r]]=e[r];return o}return!1}(),r={request:function(e){var r=l.requestFullscreen;e=e||n.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[r]():e[r](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){n[l.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:l};return l?(Object.defineProperties(r,{isFullscreen:{get:function(){return!!n[l.fullscreenElement]}},element:{enumerable:!0,get:function(){return n[l.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!n[l.fullscreenEnabled]}}}),n.addEventListener(l.fullscreenchange,function(e){r.onchange.call(r,e)}),n.addEventListener(l.fullscreenerror,function(e){r.onerror.call(r,e)}),void(e.screenfull=r)):void(e.screenfull=!1)}(window,document);var VI_GOL=function(e,n,t){var l,r,O,o,u,c,i,a={},s=125,f=Math.floor(666*s/1e3),x=!1,d=1e3,b=Math.floor(666*d/1e3),m=new Array(s*f),h=new Array(s*f),p=function(){l=document.getElementById("canvas-gol"),c=l.getContext("2d"),d=Math.min(d,t.body.clientWidth-20),b=Math.floor(666*d/1e3),l.width=d,l.height=b,l.style.width=d+"px",l.style.height=b+"px",i={Glidergun:"........................Ox......................O.Ox............OO......OO............OOx...........O...O....OO............OOxOO........O.....O...OOxOO........O...O.OO....O.Ox..........O.....O.......Ox...........O...Ox............OO",Ship:"...Ox.O...OxOxO....OxOOOOO",Glider:".Ox..OxOOO",Noah:"..........O.Ox.........Ox..........O..Ox............OOOxxxxxx.OxO.OxxO..Ox..OOx...O",Space:"...........OO.....OOOOx.........OO.OO...O...Ox.........OOOO........Ox..........OO.....O..Oxx........Ox.......OO........OOx......O.........O..Ox.......OOOOO....O..Ox........OOOO...OO.OOx...........O....OOxxxx..................OOOOxO..O.............O...Ox....O................OxO...O............O..Ox.OOOO",Pentomino:".OOxOOx.O"}},g=function(){r=e('<select class="form-control"></select>').width("300px");for(var t in i)i.hasOwnProperty(t)&&r.append(e('<option value="'+i[t]+'">'+t+"</option>"));O=e('<button class="active btn btn-primary">Pause</button>'),o=e('<button class="btn btn-primary">Save image</button>'),u=e('<button class="btn btn-primary">Full screen</button>');var c=e("<p></p>").append(O).append("&nbsp;").append(o);n.enabled&&c.append("&nbsp;").append(u),e(l).before(c),e(l).before(e("<p></p>").append(r))},v=function(){window.location=l.toDataURL("image/png")},w=function(){O.text(x?"Run":"Pause"),O.toggleClass("active",!x),x=!x},F=function(){o.click(v),O.click(w),n.enabled&&u.click(function(){n.request(l)}),r.change(function(){P(r.val())})},E=function(){var e=c.createRadialGradient(d/2,d/2,100,d/2,d/2,d);e.addColorStop(0,"#666"),e.addColorStop(1,"#000");for(var n=0;s>n;n++)for(var t=0;f>t;t++){var l=Math.floor(d/s),r=Math.floor(b/f);c.fillStyle="#aaa",c.fillRect(n*l,t*r,l,r),c.globalAlpha=.1,c.beginPath(),c.strokeStyle="#666",c.lineWidth=1,c.moveTo(n*l,t*r),c.lineTo(n*l+l,t*r),c.lineTo(n*l+l,t*r+r),c.lineTo(n*l,t*r+r),c.lineTo(n*l,t*r),c.stroke(),c.globalAlpha=1}},S=function(e,n){return 1===m[e*s+n]},k=function(e,n){return m[e*s+n]>=2},y=function(e,n){return m[e*s+n]},A=function(e,n,t){h[e*s+n]=t},R=function(e,n){return h[e*s+n]!==m[e*s+n]},q=function(e,n){var t=Math.floor(d/s),l=Math.floor(b/f);R(e,n)&&(c.fillStyle=1===h[e*s+n]?"#fff":h[e*s+n]>=2?"rgba(65,180,255,"+.75*h[e*s+n]/10+")":"#000",c.fillRect(e*t,n*l,t,l),m[e*s+n]=h[e*s+n])},M=function(e,n){var t=0;return S(e,n-1)&&t++,S(e,n+1)&&t++,S(e-1,n-1)&&t++,S(e-1,n)&&t++,S(e-1,n+1)&&t++,S(e+1,n-1)&&t++,S(e+1,n)&&t++,S(e+1,n+1)&&t++,0===e&&(S(s-1,n-1)&&t++,S(s-1,n)&&t++,S(s-1,n+1)&&t++),e===s-1&&(S(0,n-1)&&t++,S(0,n)&&t++,S(0,n+1)&&t++),n===f-1&&(S(e,0)&&t++,S(e-1,0)&&t++,S(e+1,0)&&t++),0===n&&(S(e,f-1)&&t++,S(e-1,f-1)&&t++,S(e+1,f-1)&&t++),t},C=function(e){for(var n=s/5,t=0,l=0,r=0;t<e.length;){var O=e.charAt(t++);"O"===O&&A(n+r,n+l,1),"x"===O&&(r=-1,l++),r++}},L=function(){if(x){var e=0,n=0;for(e=0;s>e;e++)for(n=0;f>n;n++){var t=M(e,n);S(e,n)?1>=t?A(e,n,2):t>=4&&A(e,n,2):3===t?A(e,n,1):k(e,n)&&(y(e,n)>=10?A(e,n,0):A(e,n,y(e,n)+1))}for(e=0;s>e;e++)for(n=0;f>n;n++)q(e,n)}window.requestAnimationFrame(L)},P=function(e){c.clearRect(0,0,d,b),m.length=0,h.length=0,E(),C(e),window.requestAnimationFrame(L)};return a.load=function(){p(),g(),F(),w(),P(i.Glidergun)},a}(jQuery,screenfull,document);jQuery(VI_GOL.load);